\section{Online Linear Optimization over Hilbert Space}
\label{section:online-linear-optimization-hilbert-space}

In this section, we show our first reduction: From continuos coin betting to \ac{OLO} in Hilbert spaces.

Consider an online game where each round we predict $w_t$ in a Hilbert space
$\H$ and the adversary chooses $g_t \in \H$ such that $\|g_t\| \le 1$. The
algorithm tries to maximize its cumulative gain $\sum_{t=1}^T \langle g_t, w_t
\rangle$. The goal of algorithm is to have small regret after $T$ rounds w.r.t.
competitor $u \in \H$:
$$
\Regret_T(u) = \sum_{t=1}^t \langle g_t, u \rangle - \sum_{t=1}^T \langle g_t, w_t \rangle \; .
$$

We consider algorithms of certain form, which we call betting algorithms.  A
betting algorithm starts with $\Wealth_0 = 1$ dollars.
In every round, it chooses a ``fraction'' $\beta_t \in \H$, $\|\beta\| \le 1$
of its current wealth to bet. The algorithm predicts
$$
w_t = \beta_t \cdot \Wealth_{t-1}
$$
where $\Wealth_t = 1 + \sum_{i=1}^t \langle g_t, w_t \rangle$. After making its prediction,
the algorithm's wealth is
$$
\Wealth_t = \langle g_t, w_t \rangle + \Wealth_{t-1} = \langle g_t, \beta_t \rangle \Wealth_{t-1} + \Wealth_t = (1 + \langle g_t, \beta_t \rangle) \Wealth_{t-1} \; .
$$
Hence
$$
\Wealth_T = \prod_{t=1}^T (1 + \langle g_t, \beta_t \rangle) \; .
$$



\begin{lemma}[Extremes]
\label{lemma:extremes}
Let $h:(-a,a) \to \R$ be an even concave twice-differentiable function that
satisfies $x \cdot h''(x) \le h'(x)$ for all $x \in [0,a)$. Then, if vectors
$u,v \in \H$ satisfy $\|u\| + \|v\| < a$, then
\begin{equation}
\label{equation:lemma-extremes-1}
\langle u, v \rangle + h(\|u + v\|) \ge \min \left\{ \|u\| \cdot \|v\| + h(\|v\| + \|u\|), \ - \|u\| \cdot \|v\| + h(\|u\| - \|v\|) \right\} \; .
\end{equation}
Futhermore, for any $b \in [0,a]$ and any $u, v \in \H$ such that $\|v\| < a - b$ and $\|u\| \le b$,
\begin{equation}
\label{equation:lemma-extremes-2}
\langle u, v \rangle + h(\|u + v\|) \ge \min \left\{ b \cdot \|v\| + h(\|v\| + b), \ - b \cdot \|v\| + h(\|u\| - b) \right\} \; .
\end{equation}
\end{lemma}


\begin{lemma}[Gamma Function]
\label{lemma:gamma-function}
For any real $a > 0$, the function $f(x) = \Gamma(a+x) \Gamma(a-x)$ satisfies
$$
\forall x \in [0, a) \qquad x \cdot f''(x) \ge f'(x) \; .
$$
\end{lemma}



\begin{theorem}
\label{theo:wealth}
For any sequence of $g_1, g_2, \dots, g_T \in \H$ such that $\|g_1\|, \|g_2\|,
\dots, \|g_T\| \le 1$, the algorithm predicting ``fraction'' $\beta_t =
\frac{1}{t} \sum_{i=1}^{t-1} g_i$ satisfies
$$
\Wealth_T
\ge
\frac{2^T \cdot \Gamma \left(\frac{T+1}{2} + \frac{1}{2}\left\|\sum_{t=1}^T g_t \right\| \right) \cdot \Gamma \left(\frac{T+1}{2} - \frac{1}{2} \left\|\sum_{t=1}^T g_t \right\| \right)}{\pi \cdot T!}
\; .
$$
\end{theorem}
